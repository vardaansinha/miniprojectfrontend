<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fibonacci Sort Visualization</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f4f7;
            margin: 0;
            padding: 20px;
            text-align: center;
        }
        h2 {
            color: #333;
            font-size: 24px;
            margin-bottom: 20px;
        }
        .form-group {
            margin: 15px 0;
        }
        label {
            font-weight: 600;
            display: block;
            margin-bottom: 8px;
            color: #555;
        }
        select, input {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 4px;
            border: 1px solid #ccc;
            font-size: 16px;
        }
        button {
            width: 100%;
            padding: 12px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #0056b3;
        }
        #visualizationResult {
            margin-top: 20px;
            padding: 15px;
            background-color: #fff;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        img {
            max-width: 100%;
            height: auto;
            border-radius: 4px;
        }
        p {
            margin-top: 15px;
            color: #444;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <h2>Sort Visualization</h2>
    <div class="form-group">
        <label for="sortType">Choose a sort method:</label>
        <select id="sortType">
            <option value="binary">Binary Sort</option>
            <option value="merge" selected>Merge Sort</option>
            <option value="bubble">Bubble Sort</option>
        </select>
    </div>
    <div class="form-group">
        <label for="dataLength">Fibonacci Data Length:</label>
        <input type="number" id="dataLength" placeholder="Enter fibonacci data length">
    </div>
    <button onclick="generateVisualization()">Generate</button>
    <div id="visualizationResult" style="display:none;">
        <img id="sortImage" src="" alt="Sort Visualization">
        <p id="timeTaken"></p>
    </div>
    <script>
        function generateVisualization() {
            var sortType = document.getElementById("sortType").value;
            var dataLength = document.getElementById("dataLength").value;

            fetch('http://localhost:8085/api/sort/perform', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    sorterType: sortType,
                    arraySize: parseInt(dataLength)
                })
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById("visualizationResult").style.display = "block";
                document.getElementById("sortImage").src = "http://localhost:8085" + data.chartImageUrl;
                document.getElementById("timeTaken").textContent = "Time taken for " + data.sorterType + " Sort: " + data.timeTakenNs + " ns";
            })
            .catch(error => {
                console.error('Error:', error);
                alert("An error occurred while generating the visualization.");
            });
        }
    </script>
    <div class="container">
        <h1>Fibonacci Algorithms</h1>

        <div class="input-group">
            <button onclick="showAlgorithm('recursive')">Fibonacci Recursive</button>
            <button onclick="showAlgorithm('iterative')">Fibonacci Iterative</button>
            <button onclick="showAlgorithm('memoization')">Fibonacci Memoization</button>
        </div>

        <div id="recursive-info" class="algorithm-info">
            <h2>Recursive Algorithm</h2>
            <p>The recursive Fibonacci algorithm is based on the mathematical definition of the Fibonacci sequence. It uses a function that calls itself to calculate Fibonacci numbers. While simple, this approach can be inefficient for large numbers due to redundant calculations.</p>
        </div>

        <div id="iterative-info" class="algorithm-info">
            <h2>Iterative Algorithm</h2>
            <p>The iterative Fibonacci algorithm uses a loop to calculate Fibonacci numbers. It starts from the bottom, building up the sequence until the desired number is reached. This method is more efficient than the recursive approach and is suitable for large Fibonacci numbers.</p>
        </div>

        <div id="memoization-info" class="algorithm-info">
            <h2>Memoization Algorithm</h2>
            <p>The memoization Fibonacci algorithm optimizes the recursive approach by storing previously calculated results in a data structure (memoization table). This prevents redundant calculations, significantly improving performance for large Fibonacci numbers. It combines the simplicity of recursion with the efficiency of dynamic programming.</p>
        </div>

    </div>

    <script>
        // showing algorithm information
        function showAlgorithm(algorithm) {
            // hiding all of the algorithm information
            document.querySelectorAll('.algorithm-info').forEach(function (element) {
                element.style.display = 'none';
            });

            // on click
            document.getElementById(algorithm + '-info').style.display = 'block';
        }
    </script>
</body>
</html>
